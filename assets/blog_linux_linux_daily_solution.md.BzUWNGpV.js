import{l as i,c as a,b as n,ai as l}from"./chunks/framework.DfOqixww.js";const o=JSON.parse('{"title":"Linux 日用","description":"","frontmatter":{},"headers":[],"relativePath":"blog/linux/linux_daily_solution.md","filePath":"blog/linux/linux_daily_solution.md"}'),h={name:"blog/linux/linux_daily_solution.md"};function t(e,s,p,k,r,d){return n(),a("div",null,s[0]||(s[0]=[l(`<h1 id="linux-日用" tabindex="-1">Linux 日用 <a class="header-anchor" href="#linux-日用" aria-label="Permalink to &quot;Linux 日用&quot;">​</a></h1><h2 id="为什么" tabindex="-1">为什么 <a class="header-anchor" href="#为什么" aria-label="Permalink to &quot;为什么&quot;">​</a></h2><p>在 Linux 安装完成后，往往还需要一系列的配置、软件安装、软硬件问题处理后，才能更完美地日用。</p><h2 id="如何解决日用问题" tabindex="-1">如何解决日用问题 <a class="header-anchor" href="#如何解决日用问题" aria-label="Permalink to &quot;如何解决日用问题&quot;">​</a></h2><p>本文将囊括以下内容（以 Arch/Debian 为例）：</p><ul><li>安装中的一系列配置</li><li>安装后的一系列配置</li><li>日用中每一次的问题</li><li>使用经验</li></ul><h2 id="安装中的一系列配置" tabindex="-1">安装中的一系列配置 <a class="header-anchor" href="#安装中的一系列配置" aria-label="Permalink to &quot;安装中的一系列配置&quot;">​</a></h2><h3 id="○-蜂鸣器禁用" tabindex="-1">○ 蜂鸣器禁用 <a class="header-anchor" href="#○-蜂鸣器禁用" aria-label="Permalink to &quot;○ 蜂鸣器禁用&quot;">​</a></h3><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rmmod</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pcspkr</span></span></code></pre></div><h3 id="○-镜像源优化" tabindex="-1">○ 镜像源优化 <a class="header-anchor" href="#○-镜像源优化" aria-label="Permalink to &quot;○ 镜像源优化&quot;">​</a></h3><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 优化一次，然后禁用自动更新</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reflector</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> China</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --sort</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> score</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --save</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/pacman.d/mirrorlist</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stop</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> reflector.service</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> status</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> reflector.service</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 优化下载过程，颜色高亮 + 并行下载</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 删除 Misc options 下的 Color 和 ParallelDownloads 前面的注释</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vim</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/pacman.conf</span></span></code></pre></div><h3 id="○-btrfs-子卷划分" tabindex="-1">○ btrfs 子卷划分 <a class="header-anchor" href="#○-btrfs-子卷划分" aria-label="Permalink to &quot;○ btrfs 子卷划分&quot;">​</a></h3><p>划分好子卷，便于创建快照时不包含缓存文件夹，减少无用信息快照，加快快照速度。</p><ul><li><code>/@</code>：根目录子卷，需快照</li><li><code>/@home</code>：家目录子卷，需快照</li><li><code>/@snapshots</code>：快照目录子卷，存放快照</li><li><code>/@tmp</code>：/tmp 目录子卷</li><li><code>/@log</code>：/var/log 目录子卷</li><li><code>/@cache</code>：/var/cache 目录子卷</li></ul><p>子卷创建参考：<a href="/blog/linux/arch.html">安装 Arch - 分区</a></p><h3 id="○-用户创建与-sudo-无需密码提权" tabindex="-1">○ 用户创建与 sudo 无需密码提权 <a class="header-anchor" href="#○-用户创建与-sudo-无需密码提权" aria-label="Permalink to &quot;○ 用户创建与 sudo 无需密码提权&quot;">​</a></h3><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">user</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -G</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wheel</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /bin/bash</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> \${user}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">passwd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> \${user}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">visudo</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">%wheel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ALL=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ALL:ALL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">NOPASSWD:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ALL</span></span></code></pre></div><h3 id="○-kde-精简安装" tabindex="-1">○ KDE 精简安装 <a class="header-anchor" href="#○-kde-精简安装" aria-label="Permalink to &quot;○ KDE 精简安装&quot;">​</a></h3><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 参考包合集中的子包合集： https://archlinux.org/packages/extra/any/kde-applications-meta/</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 参考 KDE 推荐包：https://community.kde.org/Distributions/Packaging_Recommendations</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> plasma</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sddm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kde-utilities-meta</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kde-system-meta</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gwenview</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kdegraphics-thumbnailers</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> koko</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> spectacle</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> enable</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sddm</span></span></code></pre></div><h2 id="安装后一系列配置" tabindex="-1">安装后一系列配置 <a class="header-anchor" href="#安装后一系列配置" aria-label="Permalink to &quot;安装后一系列配置&quot;">​</a></h2><h3 id="○-网络代理" tabindex="-1">○ 网络代理 <a class="header-anchor" href="#○-网络代理" aria-label="Permalink to &quot;○ 网络代理&quot;">​</a></h3><p>参考 <a href="/blog/network/mihomo.html">mihomo</a></p><h3 id="○-dotfiles-管理" tabindex="-1">○ dotfiles 管理 <a class="header-anchor" href="#○-dotfiles-管理" aria-label="Permalink to &quot;○ dotfiles 管理&quot;">​</a></h3><ul><li>Dotfiles 管理方法，<a href="https://wiki.archlinux.org/title/Dotfiles" target="_blank" rel="noreferrer">https://wiki.archlinux.org/title/Dotfiles</a></li><li>Dotfiles 管理工具汇总，<a href="https://dotfiles.github.io/utilities/" target="_blank" rel="noreferrer">https://dotfiles.github.io/utilities/</a></li><li>chezmoi 管理工具，<a href="https://www.chezmoi.io/quick-start/" target="_blank" rel="noreferrer">https://www.chezmoi.io/quick-start/</a></li></ul><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 以 chezmoi 为例</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">paru</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> chezmoi</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 在 ~/.local/share/chezmoie 创建 git 仓库，存储源文件状态（备份）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chezmoi</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> init</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 添加 dotfile</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chezmoi</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.bashrc</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chezmoi</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> edit</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.bashrc</span></span></code></pre></div><h3 id="○-字体优化" tabindex="-1">○ 字体优化 <a class="header-anchor" href="#○-字体优化" aria-label="Permalink to &quot;○ 字体优化&quot;">​</a></h3><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 先下载 nerd fonts：https://www.nerdfonts.com/font-downloads，如 JetBrainsMono Nerd Font</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 安装字体，并获取字体 family 名（如：JetBrainsMonoNL NF）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.local/share/fonts</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/Downloads/JetBrainsMono/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.local/share/fonts/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fc-cache</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -fv</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fc-list</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> \${font_name}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 安装其他字体</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">paru</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> noto-fonts</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> inter-font</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> noto-fonts-cjk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> noto-fonts-emoji</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ttf-sarasa-gothic</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 下载字体配置，按需修改内容，https://github.com/szclsya/dotfiles/blob/master/fontconfig/fonts.conf</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 修改 monospace 的 family 为 JetBrainsMonoNL NF</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 替换字体配置，重新登录生效</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.config/fontconfig</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./fonts.conf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.config/fontconfig/</span></span></code></pre></div><h3 id="○-中文输入-wayland" tabindex="-1">○ 中文输入（Wayland） <a class="header-anchor" href="#○-中文输入-wayland" aria-label="Permalink to &quot;○ 中文输入（Wayland）&quot;">​</a></h3><p>参考 <a href="/blog/input-method/rime.html">rime</a></p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 安装输入法</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">paru</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fcitx5-im</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fcitx5-rime</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 下载并解压薄荷输入法：https://github.com/Mintimate/oh-my-rime</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 修改输入方案和自定义短语</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 安装薄荷输入法</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cp</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./oh-my-rime-main/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.local/share/fcitx5/rime/</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 启用输入法</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 设置 -&gt; 虚拟键盘 -&gt; fcitx5 wayland</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 设置 -&gt; 输入法 -&gt; 添加 rime</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 更新 rime 配置后需重新部署，或重启</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># chromium/electron 应用需添加启动参数，以支持输入</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 应用桌面图标可配置启动参数</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">--enable-features</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">UseOzonePlatform</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> --ozone-platform</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">wayland</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> --enable-wayland-ime</span></span></code></pre></div><h3 id="○-应用快捷方式" tabindex="-1">○ 应用快捷方式 <a class="header-anchor" href="#○-应用快捷方式" aria-label="Permalink to &quot;○ 应用快捷方式&quot;">​</a></h3><p>全局应用，路径：<code>/usr/share/applications/xxx.desktop</code> 用户应用，路径：<code>~/.local/share/applications/xxx.desktop</code></p><div class="language-ini vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">[Desktop Entry]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=VSCode</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Comment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=Visual Studio Code</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Exec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=/opt/vscode/code --</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">enable-features</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=UseOzonePlatform --</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ozone-platform</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=wayland --enable-wayland-ime</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Icon</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=/opt/vscode/resources/app/resources/linux/code.png</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=Application</span></span></code></pre></div><h3 id="○-cpu-能效优化" tabindex="-1">○ CPU 能效优化 <a class="header-anchor" href="#○-cpu-能效优化" aria-label="Permalink to &quot;○ CPU 能效优化&quot;">​</a></h3><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># arch wiki 无效，参考：https://github.com/AdnanHodzic/auto-cpufreq</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 安装</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/AdnanHodzic/auto-cpufreq.git</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> auto-cpufreq</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./auto-cpufreq-installer</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 启动</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> auto-cpufreq</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --install</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 查看当前 cpu 能效值，0-15，越小性能越好，越大越省电</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /sys/devices/system/cpu/cpu</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">N</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/power/energy_perf_bias</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 使用节能模式</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> auto-cpufreq</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --force</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> powersave</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> auto-cpufreq</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --force</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> performance</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">auto-cpufreq</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --stats</span></span></code></pre></div><h3 id="○-btrfs-快照创建与恢复" tabindex="-1">○ btrfs 快照创建与恢复 <a class="header-anchor" href="#○-btrfs-快照创建与恢复" aria-label="Permalink to &quot;○ btrfs 快照创建与恢复&quot;">​</a></h3><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 创建快照，参数需用路径而不是子卷名</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> btrfs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> subvolume</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> snapshot</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /.snapshots/root-250101-001</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> btrfs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> subvolume</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> snapshot</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /home</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /.snapshots/home-250101-001</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 查看快照，子卷和快照都会列出</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> btrfs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> subvolume</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 删除快照</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> btrfs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> subvolume</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> delete</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /.snapshots/home-250101-001</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 恢复快照，先通过 livecd 进入 arch-chroot</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/@</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/@.broken</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> btrfs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> subvolume</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> snapshot</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/@snapshots/root-250101-001</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/@</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 恢复后，删除废弃子卷</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> btrfs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> subvolume</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> delete</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/@.broken</span></span></code></pre></div><h3 id="○-终端跳转记忆" tabindex="-1">○ 终端跳转记忆 <a class="header-anchor" href="#○-终端跳转记忆" aria-label="Permalink to &quot;○ 终端跳转记忆&quot;">​</a></h3><p>使用：<a href="https://github.com/ajeetdsouza/zoxide" target="_blank" rel="noreferrer">https://github.com/ajeetdsouza/zoxide</a></p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 第一次完整跳转</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">z</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /path/to/abc</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 第二次精简跳转，有冲突时按 space+tab 选择目的</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">z</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> abc</span></span></code></pre></div><h3 id="○-终端文件管理" tabindex="-1">○ 终端文件管理 <a class="header-anchor" href="#○-终端文件管理" aria-label="Permalink to &quot;○ 终端文件管理&quot;">​</a></h3><p>使用：<a href="https://github.com/sxyazi/yazi" target="_blank" rel="noreferrer">https://github.com/sxyazi/yazi</a>，已包含 zoxide</p><p>用法：<a href="https://yazi-rs.github.io/docs/quick-start" target="_blank" rel="noreferrer">https://yazi-rs.github.io/docs/quick-start</a></p><h3 id="○-按键映射" tabindex="-1">○ 按键映射 <a class="header-anchor" href="#○-按键映射" aria-label="Permalink to &quot;○ 按键映射&quot;">​</a></h3><ul><li><a href="https://github.com/rvaiya/keyd" target="_blank" rel="noreferrer">https://github.com/rvaiya/keyd</a></li><li><a href="https://github.com/xremap/xremap" target="_blank" rel="noreferrer">https://github.com/xremap/xremap</a></li></ul><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># keyd</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">paru</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> keyd</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> enable</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> keyd</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --now</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 参考 wiki 中的推荐配置，oneshot 自动拼接下一个按键，overload 按住时映射，值为 none 表示禁用</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vim</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/keyd/default.conf</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> keyd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> reload</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> keyd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> monitor</span></span></code></pre></div><h3 id="○-截图并粘贴到-vscode" tabindex="-1">○ 截图并粘贴到 VSCode <a class="header-anchor" href="#○-截图并粘贴到-vscode" aria-label="Permalink to &quot;○ 截图并粘贴到 VSCode&quot;">​</a></h3><ul><li>vscode 中安装 <code>dendron.dendron-paste-image</code> 插件</li><li>vscode 配置中添加 <code>&quot;pasteImage.path&quot;: &quot;\${currentFileDir}/img&quot;</code></li><li>系统安装 <code>paru -S wl-clipboard flameshot</code></li><li>vscode md 文件中，按 <code>ctrl+alt+v</code> 粘贴</li></ul><h3 id="○-starship" tabindex="-1">○ Starship <a class="header-anchor" href="#○-starship" aria-label="Permalink to &quot;○ Starship&quot;">​</a></h3><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">paru</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> starship</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;eval &quot;$(starship init bash)&quot;&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.bashrc</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.bashrc</span></span></code></pre></div><p>：：：info</p><ul><li><a href="https://starship.rs/presets/catppuccin-powerline" target="_blank" rel="noreferrer">Catppuccin Powerline Preset | Starship</a>，预设主题 :::</li></ul><h3 id="○-git" tabindex="-1">○ Git <a class="header-anchor" href="#○-git" aria-label="Permalink to &quot;○ Git&quot;">​</a></h3><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">paru</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># git log 等依赖 less 命令</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">paru</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> less</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --global</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> user.name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> \${name}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --global</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> user.emial</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> \${email}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 编辑器改为 vscode</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --global</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> core.editor</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;code --enable-features=UseOzonePlatform --ozone-platform=wayland --enable-wayland-ime --wait&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 全局存储凭证</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --global</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> credential.helper</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> store</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ⌛ssh、默认分支 master 等</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># github https push 时，用户密码需为 access token</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># setting -&gt; developer setting -&gt; token classic</span></span></code></pre></div><h3 id="○-node-js" tabindex="-1">○ Node.js <a class="header-anchor" href="#○-node-js" aria-label="Permalink to &quot;○ Node.js&quot;">​</a></h3><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">paru</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> aur/nvm-git</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;source /usr/share/nvm/init-nvm.sh&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.bashrc</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.bashrc</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nvm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --lts</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nvm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> use</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --lts</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 安装 pnpm：&lt;https://pnpm.io/installation&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -fsSL</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://get.pnpm.io/install.sh</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.bashrc</span></span></code></pre></div><h3 id="○-rust-cargo" tabindex="-1">○ Rust/Cargo <a class="header-anchor" href="#○-rust-cargo" aria-label="Permalink to &quot;○ Rust/Cargo&quot;">​</a></h3><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 参考：https://www.rust-lang.org/tools/install</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --proto</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;=https&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --tlsv1.2</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -sSf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://sh.rustup.rs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sh</span></span></code></pre></div><h3 id="○-游戏包" tabindex="-1">○ 游戏包 <a class="header-anchor" href="#○-游戏包" aria-label="Permalink to &quot;○ 游戏包&quot;">​</a></h3><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">paru</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --needed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> arch-gaming-meta</span></span></code></pre></div><h2 id="日用问题" tabindex="-1">日用问题 <a class="header-anchor" href="#日用问题" aria-label="Permalink to &quot;日用问题&quot;">​</a></h2><h3 id="○-花屏" tabindex="-1">○ 花屏 <a class="header-anchor" href="#○-花屏" aria-label="Permalink to &quot;○ 花屏&quot;">​</a></h3><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 参考：https://formerlunchbox.com/2024/05/13/%E6%9C%BA%E6%A2%B0%E9%9D%A9%E5%91%BD14x-%E5%AE%89%E8%A3%85-arch-linux-kde-plasma-6/#%E5%85%B3%E4%BA%8E%E7%94%BB%E9%9D%A2%E6%92%95%E8%A3%82%E9%97%AE%E9%A2%98</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/default/grub</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># amd，联想 yoga 上有效，... 为占位省略</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">GRUB_CMDLINE_LINUX_DEFAULT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;... amdgpu.dcdebugmask=0x10&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># intel 可能需要加</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">GRUB_CMDLINE_LINUX_DEFAULT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;... i915.enable_psr=0&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 替换 grub 配置并生效</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> grub-mkconfig</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /boot/grub/grub.cfg</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reboot</span></span></code></pre></div><h3 id="○-蓝牙无法开启-无法搜索配对" tabindex="-1">○ 蓝牙无法开启，无法搜索配对 <a class="header-anchor" href="#○-蓝牙无法开启-无法搜索配对" aria-label="Permalink to &quot;○ 蓝牙无法开启，无法搜索配对&quot;">​</a></h3><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> enable</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --now</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bluetooth</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 蓝牙，或需要通过 rfkill list 来检查软硬件锁</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 无法开启则需要安装</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">paru</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bluez</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bluez-utils</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> blueman</span></span></code></pre></div><h3 id="○-使用锁屏熄屏-不睡眠不休眠" tabindex="-1">○ 使用锁屏熄屏，不睡眠不休眠 <a class="header-anchor" href="#○-使用锁屏熄屏-不睡眠不休眠" aria-label="Permalink to &quot;○ 使用锁屏熄屏，不睡眠不休眠&quot;">​</a></h3><p>睡眠后，唤醒容易出现一堆问题：掉 wifi，掉蓝牙，掉 btrfs 子卷挂载......往往需要以来重启来解决。</p><p>为了避免这些问题，尝试不使用睡眠、休眠，而使用锁屏熄屏。</p><p>解决方案参考：</p><ul><li><a href="https://v2ex.com/t/841495" target="_blank" rel="noreferrer">https://v2ex.com/t/841495</a></li><li><a href="https://jixun.uk/posts/2024/install-arch-2024/" target="_blank" rel="noreferrer">https://jixun.uk/posts/2024/install-arch-2024/</a>，休眠唤醒</li></ul><h3 id="○-python-安装依赖并构建" tabindex="-1">○ Python 安装依赖并构建 <a class="header-anchor" href="#○-python-安装依赖并构建" aria-label="Permalink to &quot;○ Python 安装依赖并构建&quot;">​</a></h3><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 安装 pip 依赖时，可能报错 error: externally-managed-environment</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 需要通过 python 创建一个虚拟环境，激活虚拟环境后再安装依赖。通过 pipx 简化这个过程</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">paru</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Ss</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pipx</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 安装依赖：克隆 python 项目后，进入目录，通过 pipx 从 requirements.txt 中逐行读取安装</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">while</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> read</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> requirement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">do</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    pipx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$requirement</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">done</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> requirements.txt</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 安装程序</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pipx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span></span></code></pre></div><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 使用 uv</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">uv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> requirements.txt</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> main.py</span></span></code></pre></div><h2 id="使用经验" tabindex="-1">使用经验 <a class="header-anchor" href="#使用经验" aria-label="Permalink to &quot;使用经验&quot;">​</a></h2><h3 id="○-kde" tabindex="-1">○ KDE <a class="header-anchor" href="#○-kde" aria-label="Permalink to &quot;○ KDE&quot;">​</a></h3><p>通用：</p><ul><li>启动应用：<code>alt+space</code></li><li>启动终端：<code>ctrl+alt+t</code></li><li>最近任务：<code>win+w</code></li></ul><p>Spectacle 截图：</p><ul><li>当前窗口：<code>win+prtsc</code></li><li>选择窗口：<code>win+ctrl+prtsc</code></li><li>全屏：<code>shift+prtsc</code></li><li>框选：<code>win+shift+prtsc</code></li></ul><h3 id="○-局域网文件共享" tabindex="-1">○ 局域网文件共享 <a class="header-anchor" href="#○-局域网文件共享" aria-label="Permalink to &quot;○ 局域网文件共享&quot;">​</a></h3><p><a href="https://github.com/songquanpeng/go-file" target="_blank" rel="noreferrer">go-file</a>，局域网分享，带启动器一键启用，扫码下载，同时可分享文件夹和视频</p>`,81)]))}const c=i(h,[["render",t]]);export{o as __pageData,c as default};
