import{l as i,c as a,b as n,ai as e}from"./chunks/framework.DfOqixww.js";const E=JSON.parse('{"title":"使用 rEFInd 启动管理器","description":"","frontmatter":{},"headers":[],"relativePath":"blog/windows/refind.md","filePath":"blog/windows/refind.md"}'),l={name:"blog/windows/refind.md"};function t(h,s,p,r,d,k){return n(),a("div",null,s[0]||(s[0]=[e(`<h1 id="使用-refind-启动管理器" tabindex="-1">使用 rEFInd 启动管理器 <a class="header-anchor" href="#使用-refind-启动管理器" aria-label="Permalink to &quot;使用 rEFInd 启动管理器&quot;">​</a></h1><h2 id="是什么" tabindex="-1">是什么 <a class="header-anchor" href="#是什么" aria-label="Permalink to &quot;是什么&quot;">​</a></h2><p>rEFInd 是一款启动管理器，类似 Windows Boot Manager 和 GRUB，提供多操作系统启动 GUI，支持自动检测操作系统、UEFI 安全启动、外部设备启动、自定义主题。</p><h2 id="为什么" tabindex="-1">为什么 <a class="header-anchor" href="#为什么" aria-label="Permalink to &quot;为什么&quot;">​</a></h2><p>易于实现多系统启动管理，减少复杂难懂的配置，主题丰富好看。</p><h2 id="windows-下使用" tabindex="-1">Windows 下使用 <a class="header-anchor" href="#windows-下使用" aria-label="Permalink to &quot;Windows 下使用&quot;">​</a></h2><ol><li>下载 rEFInd zip <a href="https://sourceforge.net/projects/refind/files/" target="_blank" rel="noreferrer">SOURCEFORGE</a></li><li>复制 <code>refind</code> 文件夹，后续都在此文件夹中操作</li><li>删除多余文件 <code>drivers_xxx</code>、<code>tools_xxx</code></li><li>添加主题（可选），<a href="https://github.com/topics/refind-theme" target="_blank" rel="noreferrer">refind-theme|GitHub Topics</a>，整个仓库文件夹放入 <code>refind/themes</code> 文件夹下，</li><li>修改配置 <code>refind.conf-sample</code> 为 <code>refind.conf</code>，编辑：</li></ol><ul><li>等待超时 <code>timeout 20</code></li><li>屏幕分辨率 <code>resolution max</code></li><li>启动项 <code>menuentry</code>，默认不用配置</li><li>主题 <code>include themes/\${主题文件夹}/theme.conf</code></li><li>其他自行参考注释</li></ul><ol start="6"><li>复制目录到 <code>\\EFI\\refind</code> 下。EFI（ESP）分区默认不可见，需分配盘符后查看，或通过其他软件操作</li><li>添加启动项并设为默认</li></ol><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>为了确保主题能正常使用，需保证 include 的主题路径，与其中 theme.conf 中写的路径一致。通常情况下即主题文件夹名不包含 <code>-master</code> 或 <code>-main</code> 等分支名</p></div><div class="language-ps1 vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ps1</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 管理员运行 powershell</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ○ 挂载 EFI 分区</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">diskpart</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">list vol</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sel vol </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # EFI 分区卷号</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">assign letter</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Z </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 分配驱动器号，可能需重启才能看见</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">exit</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ○ 复制 refind 文件夹</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Remove-Item</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Recurse </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Z:\\EFI\\refind&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Copy-Item</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Path </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;\\path\\to\\refind&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Destination </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Z:\\EFI\\&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Recurse</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ○ 添加 rEFInd 启动项（好像并不需要）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">bcdedit </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">create </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">d </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;rEFInd&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> /</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">application bootsector</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ○ 编辑 rEFInd 启动项并设为默认</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 注意路径没有盘符</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 可通过 bcdedit 命令来查看，提前备份原有的 {bootmgr} 设置</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Test-Path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Path Z:\\EFI\\refind\\refind_x64.efi</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">bcdedit </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">set </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;{bootmgr}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> path </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;\\EFI\\refind\\refind_x64.efi&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">bcdedit </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">set </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;{bootmgr}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> description </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;rEFInd Boot Manager&quot;</span></span></code></pre></div><h2 id="linux-下使用" tabindex="-1">Linux 下使用 <a class="header-anchor" href="#linux-下使用" aria-label="Permalink to &quot;Linux 下使用&quot;">​</a></h2><ol><li>准备 refind 文件夹，同上</li><li>通过 <code>efibootmgr</code> 添加启动引导项，并修改启动顺序。</li></ol><h2 id="参考" tabindex="-1">参考 <a class="header-anchor" href="#参考" aria-label="Permalink to &quot;参考&quot;">​</a></h2><ul><li><a href="https://maho.shojola.top/2024/04/29/rEFInd-Tutorial/index.html" target="_blank" rel="noreferrer">rEFInd安装及简单配置指南</a></li></ul>`,15)]))}const c=i(l,[["render",t]]);export{E as __pageData,c as default};
