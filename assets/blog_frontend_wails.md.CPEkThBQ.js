import{l as s,c as i,b as n,aj as l}from"./chunks/framework.CZoYd-ur.js";const c=JSON.parse('{"title":"Wails","description":"","frontmatter":{},"headers":[],"relativePath":"blog/frontend/wails.md","filePath":"blog/frontend/wails.md"}'),e={name:"blog/frontend/wails.md"};function t(h,a,p,r,o,d){return n(),i("div",null,[...a[0]||(a[0]=[l(`<h1 id="wails" tabindex="-1">Wails <a class="header-anchor" href="#wails" aria-label="Permalink to &quot;Wails&quot;">​</a></h1><h2 id="why" tabindex="-1">Why <a class="header-anchor" href="#why" aria-label="Permalink to &quot;Why&quot;">​</a></h2><p>若想通过 WEB 技术构建桌面端应用，现在比较成熟的有：Electron 和 Tauri。</p><p>其中，Electron 的构建结果自带一个浏览器，包大，仅支持构建桌面端应用。</p><p>而 Tauri 的构建结果不带浏览器，使用系统 Webview，较小，进一步支持构建 Android/iOS 应用。但是部分涉及系统、窗口层级的改动，需要使用 Rust。并且构建缓存非常大，构建缓慢。</p><p>考虑到目前我的技术栈为 WEB + Go，Wails 构建桌面端应用也成为了一个可选项。</p><p>Wails 和 Tauri 一样，使用 Webview 来渲染页面，构建结果较小，构建速度相对较快。目前仅支持桌面端应用。</p><h2 id="how" tabindex="-1">How <a class="header-anchor" href="#how" aria-label="Permalink to &quot;How&quot;">​</a></h2><p>在 Wails 中，可以创建一款 CS 架构的应用。前端界面作为 Client，Go 后端作为 Server。前端通过 HTTP 请求与 Go 服务交互，或通过“调用绑定的 Go 方法”来与 Go 交互。</p><h2 id="what" tabindex="-1">What <a class="header-anchor" href="#what" aria-label="Permalink to &quot;What&quot;">​</a></h2><h3 id="○-全流程-mvp" tabindex="-1">○ 全流程 MVP <a class="header-anchor" href="#○-全流程-mvp" aria-label="Permalink to &quot;○ 全流程 MVP&quot;">​</a></h3><p>准备：</p><ul><li>Go 1.21+</li><li>Node.js 15+</li></ul><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 安装全局 wails cli</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">go</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> github.com/wailsapp/wails/v2/cmd/wails@latest</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 检查环境依赖是否满足 GUI 开发需求</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wails</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> doctor</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 创建项目，-n 名称，-t 模板</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wails</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> init</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> learn-wails</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -t</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vue-ts</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 启动开发模式</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 会安装前端依赖，启动前端服务，捕获前端服务的 url 用于访问界面</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wails</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dev</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 启动构建</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 构建结果位置 build/bin/xxx</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wails</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span></span></code></pre></div><h3 id="○-scenario-替换前端项目" tabindex="-1">○ scenario 替换前端项目 <a class="header-anchor" href="#○-scenario-替换前端项目" aria-label="Permalink to &quot;○ scenario 替换前端项目&quot;">​</a></h3><ul><li>given wails 项目已初始化</li><li>when 删除 frontend 文件夹</li><li>then 初始前端项目清空</li><li>when 通过 vite 或其他前端 cli 创建前端 frontend 项目</li><li>then 生成新 frontend 文件夹</li><li>when 修改新 main.go 中嵌入的前端路径（<code>//go:embed all:frontend/dist</code>）</li><li>then 正确引用前端</li><li>when 修改 wails.json 中的 npm 为 pnpm</li><li>then 改用 pnpm 作为前端包管理</li></ul><h2 id="参考" tabindex="-1">参考 <a class="header-anchor" href="#参考" aria-label="Permalink to &quot;参考&quot;">​</a></h2><ul><li><a href="https://wails.io/docs/introduction" target="_blank" rel="noreferrer">Introduction | Wails</a></li></ul>`,18)])])}const u=s(e,[["render",t]]);export{c as __pageData,u as default};
