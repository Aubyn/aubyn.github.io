import{r as de,w as Rt,o as Kt,d as ft,c as ct,b as ut,F as Vt,aj as qt,v,a3 as ge,ak as he,x as M,g as F,al as me,H as Yt,K as st,i as Qt,k as Wt}from"./chunks/framework.CZoYd-ur.js";const Re=Symbol.for("yaml.alias"),Pe=Symbol.for("yaml.document"),U=Symbol.for("yaml.map"),dt=Symbol.for("yaml.pair"),_e=Symbol.for("yaml.scalar"),x=Symbol.for("yaml.seq"),I=Symbol.for("yaml.node.type"),Y=n=>!!n&&typeof n=="object"&&n[I]===Re,ae=n=>!!n&&typeof n=="object"&&n[I]===Pe,fe=n=>!!n&&typeof n=="object"&&n[I]===U,k=n=>!!n&&typeof n=="object"&&n[I]===dt,N=n=>!!n&&typeof n=="object"&&n[I]===_e,ce=n=>!!n&&typeof n=="object"&&n[I]===x;function E(n){if(n&&typeof n=="object")switch(n[I]){case U:case x:return!0}return!1}function _(n){if(n&&typeof n=="object")switch(n[I]){case Re:case U:case _e:case x:return!0}return!1}const gt=n=>(N(n)||E(n))&&!!n.anchor,K=Symbol("break visit"),zt=Symbol("skip children"),re=Symbol("remove node");function ee(n,e){const t=Gt(e);ae(n)?W(null,n.contents,t,Object.freeze([n]))===re&&(n.contents=null):W(null,n,t,Object.freeze([]))}ee.BREAK=K;ee.SKIP=zt;ee.REMOVE=re;function W(n,e,t,s){const i=Ht(n,e,t,s);if(_(i)||k(i))return Xt(n,s,i),W(n,i,t,s);if(typeof i!="symbol"){if(E(e)){s=Object.freeze(s.concat(e));for(let r=0;r<e.items.length;++r){const o=W(r,e.items[r],t,s);if(typeof o=="number")r=o-1;else{if(o===K)return K;o===re&&(e.items.splice(r,1),r-=1)}}}else if(k(e)){s=Object.freeze(s.concat(e));const r=W("key",e.key,t,s);if(r===K)return K;r===re&&(e.key=null);const o=W("value",e.value,t,s);if(o===K)return K;o===re&&(e.value=null)}}return i}function Gt(n){return typeof n=="object"&&(n.Collection||n.Node||n.Value)?Object.assign({Alias:n.Node,Map:n.Node,Scalar:n.Node,Seq:n.Node},n.Value&&{Map:n.Value,Scalar:n.Value,Seq:n.Value},n.Collection&&{Map:n.Collection,Seq:n.Collection},n):n}function Ht(n,e,t,s){var i,r,o,l,a;if(typeof t=="function")return t(n,e,s);if(fe(e))return(i=t.Map)==null?void 0:i.call(t,n,e,s);if(ce(e))return(r=t.Seq)==null?void 0:r.call(t,n,e,s);if(k(e))return(o=t.Pair)==null?void 0:o.call(t,n,e,s);if(N(e))return(l=t.Scalar)==null?void 0:l.call(t,n,e,s);if(Y(e))return(a=t.Alias)==null?void 0:a.call(t,n,e,s)}function Xt(n,e,t){const s=e[e.length-1];if(E(s))s.items[n]=t;else if(k(s))n==="key"?s.key=t:s.value=t;else if(ae(s))s.contents=t;else{const i=Y(s)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}const Zt={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},xt=n=>n.replace(/[!,[\]{}]/g,e=>Zt[e]);class A{constructor(e,t){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},A.defaultYaml,e),this.tags=Object.assign({},A.defaultTags,t)}clone(){const e=new A(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new A(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:A.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},A.defaultTags);break}return e}add(e,t){this.atNextDocument&&(this.yaml={explicit:A.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},A.defaultTags),this.atNextDocument=!1);const s=e.trim().split(/[ \t]+/),i=s.shift();switch(i){case"%TAG":{if(s.length!==2&&(t(0,"%TAG directive should contain exactly two parts"),s.length<2))return!1;const[r,o]=s;return this.tags[r]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,s.length!==1)return t(0,"%YAML directive should contain exactly one part"),!1;const[r]=s;if(r==="1.1"||r==="1.2")return this.yaml.version=r,!0;{const o=/^\d+\.\d+$/.test(r);return t(6,`Unsupported YAML version ${r}`,o),!1}}default:return t(0,`Unknown directive ${i}`,!0),!1}}tagName(e,t){if(e==="!")return"!";if(e[0]!=="!")return t(`Not a valid tag: ${e}`),null;if(e[1]==="<"){const o=e.slice(2,-1);return o==="!"||o==="!!"?(t(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&t("Verbatim tags must end with a >"),o)}const[,s,i]=e.match(/^(.*!)([^!]*)$/s);i||t(`The ${e} tag has no suffix`);const r=this.tags[s];if(r)try{return r+decodeURIComponent(i)}catch(o){return t(String(o)),null}return s==="!"?e:(t(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[t,s]of Object.entries(this.tags))if(e.startsWith(s))return t+xt(e.substring(s.length));return e[0]==="!"?e:`!<${e}>`}toString(e){const t=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],s=Object.entries(this.tags);let i;if(e&&s.length>0&&_(e.contents)){const r={};ee(e.contents,(o,l)=>{_(l)&&l.tag&&(r[l.tag]=!0)}),i=Object.keys(r)}else i=[];for(const[r,o]of s)r==="!!"&&o==="tag:yaml.org,2002:"||(!e||i.some(l=>l.startsWith(o)))&&t.push(`%TAG ${r} ${o}`);return t.join(`
`)}}A.defaultYaml={explicit:!1,version:"1.2"};A.defaultTags={"!!":"tag:yaml.org,2002:"};function ht(n){if(/[\x00-\x19\s,[\]{}]/.test(n)){const t=`Anchor must not contain whitespace or control characters: ${JSON.stringify(n)}`;throw new Error(t)}return!0}function mt(n){const e=new Set;return ee(n,{Value(t,s){s.anchor&&e.add(s.anchor)}}),e}function pt(n,e){for(let t=1;;++t){const s=`${n}${t}`;if(!e.has(s))return s}}function en(n,e){const t=[],s=new Map;let i=null;return{onAnchor:r=>{t.push(r),i??(i=mt(n));const o=pt(e,i);return i.add(o),o},setAnchors:()=>{for(const r of t){const o=s.get(r);if(typeof o=="object"&&o.anchor&&(N(o.node)||E(o.node)))o.node.anchor=o.anchor;else{const l=new Error("Failed to resolve repeated object (this should not happen)");throw l.source=r,l}}},sourceObjects:s}}function z(n,e,t,s){if(s&&typeof s=="object")if(Array.isArray(s))for(let i=0,r=s.length;i<r;++i){const o=s[i],l=z(n,s,String(i),o);l===void 0?delete s[i]:l!==o&&(s[i]=l)}else if(s instanceof Map)for(const i of Array.from(s.keys())){const r=s.get(i),o=z(n,s,i,r);o===void 0?s.delete(i):o!==r&&s.set(i,o)}else if(s instanceof Set)for(const i of Array.from(s)){const r=z(n,s,i,i);r===void 0?s.delete(i):r!==i&&(s.delete(i),s.add(r))}else for(const[i,r]of Object.entries(s)){const o=z(n,s,i,r);o===void 0?delete s[i]:o!==r&&(s[i]=o)}return n.call(e,t,s)}function T(n,e,t){if(Array.isArray(n))return n.map((s,i)=>T(s,String(i),t));if(n&&typeof n.toJSON=="function"){if(!t||!gt(n))return n.toJSON(e,t);const s={aliasCount:0,count:1,res:void 0};t.anchors.set(n,s),t.onCreate=r=>{s.res=r,delete t.onCreate};const i=n.toJSON(e,t);return t.onCreate&&t.onCreate(i),i}return typeof n=="bigint"&&!(t!=null&&t.keep)?Number(n):n}class Ke{constructor(e){Object.defineProperty(this,I,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:t,maxAliasCount:s,onAnchor:i,reviver:r}={}){if(!ae(e))throw new TypeError("A document argument is required");const o={anchors:new Map,doc:e,keep:!0,mapAsMap:t===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100},l=T(this,"",o);if(typeof i=="function")for(const{count:a,res:f}of o.anchors.values())i(f,a);return typeof r=="function"?z(r,{"":l},"",l):l}}class yt extends Ke{constructor(e){super(Re),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e,t){let s;t!=null&&t.aliasResolveCache?s=t.aliasResolveCache:(s=[],ee(e,{Node:(r,o)=>{(Y(o)||gt(o))&&s.push(o)}}),t&&(t.aliasResolveCache=s));let i;for(const r of s){if(r===this)break;r.anchor===this.source&&(i=r)}return i}toJSON(e,t){if(!t)return{source:this.source};const{anchors:s,doc:i,maxAliasCount:r}=t,o=this.resolve(i,t);if(!o){const a=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(a)}let l=s.get(o);if(l||(T(o,null,t),l=s.get(o)),(l==null?void 0:l.res)===void 0){const a="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(a)}if(r>=0&&(l.count+=1,l.aliasCount===0&&(l.aliasCount=we(i,o,s)),l.count*l.aliasCount>r)){const a="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(a)}return l.res}toString(e,t,s){const i=`*${this.source}`;if(e){if(ht(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const r=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(r)}if(e.implicitKey)return`${i} `}return i}}function we(n,e,t){if(Y(e)){const s=e.resolve(n),i=t&&s&&t.get(s);return i?i.count*i.aliasCount:0}else if(E(e)){let s=0;for(const i of e.items){const r=we(n,i,t);r>s&&(s=r)}return s}else if(k(e)){const s=we(n,e.key,t),i=we(n,e.value,t);return Math.max(s,i)}return 1}const bt=n=>!n||typeof n!="function"&&typeof n!="object";class b extends Ke{constructor(e){super(_e),this.value=e}toJSON(e,t){return t!=null&&t.keep?this.value:T(this.value,e,t)}toString(){return String(this.value)}}b.BLOCK_FOLDED="BLOCK_FOLDED";b.BLOCK_LITERAL="BLOCK_LITERAL";b.PLAIN="PLAIN";b.QUOTE_DOUBLE="QUOTE_DOUBLE";b.QUOTE_SINGLE="QUOTE_SINGLE";const tn="tag:yaml.org,2002:";function nn(n,e,t){if(e){const s=t.filter(r=>r.tag===e),i=s.find(r=>!r.format)??s[0];if(!i)throw new Error(`Tag ${e} not found`);return i}return t.find(s=>{var i;return((i=s.identify)==null?void 0:i.call(s,n))&&!s.format})}function le(n,e,t){var c,h,m;if(ae(n)&&(n=n.contents),_(n))return n;if(k(n)){const p=(h=(c=t.schema[U]).createNode)==null?void 0:h.call(c,t.schema,null,t);return p.items.push(n),p}(n instanceof String||n instanceof Number||n instanceof Boolean||typeof BigInt<"u"&&n instanceof BigInt)&&(n=n.valueOf());const{aliasDuplicateObjects:s,onAnchor:i,onTagObj:r,schema:o,sourceObjects:l}=t;let a;if(s&&n&&typeof n=="object"){if(a=l.get(n),a)return a.anchor??(a.anchor=i(n)),new yt(a.anchor);a={anchor:null,node:null},l.set(n,a)}e!=null&&e.startsWith("!!")&&(e=tn+e.slice(2));let f=nn(n,e,o.tags);if(!f){if(n&&typeof n.toJSON=="function"&&(n=n.toJSON()),!n||typeof n!="object"){const p=new b(n);return a&&(a.node=p),p}f=n instanceof Map?o[U]:Symbol.iterator in Object(n)?o[x]:o[U]}r&&(r(f),delete t.onTagObj);const u=f!=null&&f.createNode?f.createNode(t.schema,n,t):typeof((m=f==null?void 0:f.nodeClass)==null?void 0:m.from)=="function"?f.nodeClass.from(t.schema,n,t):new b(n);return e?u.tag=e:f.default||(u.tag=f.tag),a&&(a.node=u),u}function Ne(n,e,t){let s=t;for(let i=e.length-1;i>=0;--i){const r=e[i];if(typeof r=="number"&&Number.isInteger(r)&&r>=0){const o=[];o[r]=s,s=o}else s=new Map([[r,s]])}return le(s,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:n,sourceObjects:new Map})}const ie=n=>n==null||typeof n=="object"&&!!n[Symbol.iterator]().next().done;class wt extends Ke{constructor(e,t){super(e),Object.defineProperty(this,"schema",{value:t,configurable:!0,enumerable:!1,writable:!0})}clone(e){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(t.schema=e),t.items=t.items.map(s=>_(s)||k(s)?s.clone(e):s),this.range&&(t.range=this.range.slice()),t}addIn(e,t){if(ie(e))this.add(t);else{const[s,...i]=e,r=this.get(s,!0);if(E(r))r.addIn(i,t);else if(r===void 0&&this.schema)this.set(s,Ne(this.schema,i,t));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${i}`)}}deleteIn(e){const[t,...s]=e;if(s.length===0)return this.delete(t);const i=this.get(t,!0);if(E(i))return i.deleteIn(s);throw new Error(`Expected YAML collection at ${t}. Remaining path: ${s}`)}getIn(e,t){const[s,...i]=e,r=this.get(s,!0);return i.length===0?!t&&N(r)?r.value:r:E(r)?r.getIn(i,t):void 0}hasAllNullValues(e){return this.items.every(t=>{if(!k(t))return!1;const s=t.value;return s==null||e&&N(s)&&s.value==null&&!s.commentBefore&&!s.comment&&!s.tag})}hasIn(e){const[t,...s]=e;if(s.length===0)return this.has(t);const i=this.get(t,!0);return E(i)?i.hasIn(s):!1}setIn(e,t){const[s,...i]=e;if(i.length===0)this.set(s,t);else{const r=this.get(s,!0);if(E(r))r.setIn(i,t);else if(r===void 0&&this.schema)this.set(s,Ne(this.schema,i,t));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${i}`)}}}const sn=n=>n.replace(/^(?!$)(?: $)?/gm,"#");function P(n,e){return/^\n+$/.test(n)?n.substring(1):e?n.replace(/^(?! *$)/gm,e):n}const V=(n,e,t)=>n.endsWith(`
`)?P(t,e):t.includes(`
`)?`
`+P(t,e):(n.endsWith(" ")?"":" ")+t,St="flow",De="block",Se="quoted";function ke(n,e,t="flow",{indentAtStart:s,lineWidth:i=80,minContentWidth:r=20,onFold:o,onOverflow:l}={}){if(!i||i<0)return n;i<r&&(r=0);const a=Math.max(1+r,1+i-e.length);if(n.length<=a)return n;const f=[],u={};let c=i-e.length;typeof s=="number"&&(s>i-Math.max(2,r)?f.push(0):c=i-s);let h,m,p=!1,d=-1,g=-1,w=-1;t===De&&(d=it(n,d,e.length),d!==-1&&(c=d+a));for(let S;S=n[d+=1];){if(t===Se&&S==="\\"){switch(g=d,n[d+1]){case"x":d+=3;break;case"u":d+=5;break;case"U":d+=9;break;default:d+=1}w=d}if(S===`
`)t===De&&(d=it(n,d,e.length)),c=d+e.length+a,h=void 0;else{if(S===" "&&m&&m!==" "&&m!==`
`&&m!=="	"){const O=n[d+1];O&&O!==" "&&O!==`
`&&O!=="	"&&(h=d)}if(d>=c)if(h)f.push(h),c=h+a,h=void 0;else if(t===Se){for(;m===" "||m==="	";)m=S,S=n[d+=1],p=!0;const O=d>w+1?d-2:g-1;if(u[O])return n;f.push(O),u[O]=!0,c=O+a,h=void 0}else p=!0}m=S}if(p&&l&&l(),f.length===0)return n;o&&o();let y=n.slice(0,f[0]);for(let S=0;S<f.length;++S){const O=f[S],$=f[S+1]||n.length;O===0?y=`
${e}${n.slice(0,$)}`:(t===Se&&u[O]&&(y+=`${n[O]}\\`),y+=`
${e}${n.slice(O+1,$)}`)}return y}function it(n,e,t){let s=e,i=e+1,r=n[i];for(;r===" "||r==="	";)if(e<i+t)r=n[++e];else{do r=n[++e];while(r&&r!==`
`);s=e,i=e+1,r=n[i]}return s}const ve=(n,e)=>({indentAtStart:e?n.indent.length:n.indentAtStart,lineWidth:n.options.lineWidth,minContentWidth:n.options.minContentWidth}),Ae=n=>/^(%|---|\.\.\.)/m.test(n);function rn(n,e,t){if(!e||e<0)return!1;const s=e-t,i=n.length;if(i<=s)return!1;for(let r=0,o=0;r<i;++r)if(n[r]===`
`){if(r-o>s)return!0;if(o=r+1,i-o<=s)return!1}return!0}function oe(n,e){const t=JSON.stringify(n);if(e.options.doubleQuotedAsJSON)return t;const{implicitKey:s}=e,i=e.options.doubleQuotedMinMultiLineLength,r=e.indent||(Ae(n)?"  ":"");let o="",l=0;for(let a=0,f=t[a];f;f=t[++a])if(f===" "&&t[a+1]==="\\"&&t[a+2]==="n"&&(o+=t.slice(l,a)+"\\ ",a+=1,l=a,f="\\"),f==="\\")switch(t[a+1]){case"u":{o+=t.slice(l,a);const u=t.substr(a+2,4);switch(u){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:u.substr(0,2)==="00"?o+="\\x"+u.substr(2):o+=t.substr(a,6)}a+=5,l=a+1}break;case"n":if(s||t[a+2]==='"'||t.length<i)a+=1;else{for(o+=t.slice(l,a)+`

`;t[a+2]==="\\"&&t[a+3]==="n"&&t[a+4]!=='"';)o+=`
`,a+=2;o+=r,t[a+2]===" "&&(o+="\\"),a+=1,l=a+1}break;default:a+=1}return o=l?o+t.slice(l):t,s?o:ke(o,r,Se,ve(e,!1))}function Je(n,e){if(e.options.singleQuote===!1||e.implicitKey&&n.includes(`
`)||/[ \t]\n|\n[ \t]/.test(n))return oe(n,e);const t=e.indent||(Ae(n)?"  ":""),s="'"+n.replace(/'/g,"''").replace(/\n+/g,`$&
${t}`)+"'";return e.implicitKey?s:ke(s,t,St,ve(e,!1))}function G(n,e){const{singleQuote:t}=e.options;let s;if(t===!1)s=oe;else{const i=n.includes('"'),r=n.includes("'");i&&!r?s=Je:r&&!i?s=oe:s=t?Je:oe}return s(n,e)}let Ue;try{Ue=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{Ue=/\n+(?!\n|$)/g}function Oe({comment:n,type:e,value:t},s,i,r){const{blockQuote:o,commentString:l,lineWidth:a}=s.options;if(!o||/\n[\t ]+$/.test(t))return G(t,s);const f=s.indent||(s.forceBlockIndent||Ae(t)?"  ":""),u=o==="literal"?!0:o==="folded"||e===b.BLOCK_FOLDED?!1:e===b.BLOCK_LITERAL?!0:!rn(t,a,f.length);if(!t)return u?`|
`:`>
`;let c,h;for(h=t.length;h>0;--h){const $=t[h-1];if($!==`
`&&$!=="	"&&$!==" ")break}let m=t.substring(h);const p=m.indexOf(`
`);p===-1?c="-":t===m||p!==m.length-1?(c="+",r&&r()):c="",m&&(t=t.slice(0,-m.length),m[m.length-1]===`
`&&(m=m.slice(0,-1)),m=m.replace(Ue,`$&${f}`));let d=!1,g,w=-1;for(g=0;g<t.length;++g){const $=t[g];if($===" ")d=!0;else if($===`
`)w=g;else break}let y=t.substring(0,w<g?w+1:g);y&&(t=t.substring(y.length),y=y.replace(/\n+/g,`$&${f}`));let O=(d?f?"2":"1":"")+c;if(n&&(O+=" "+l(n.replace(/ ?[\r\n]+/g," ")),i&&i()),!u){const $=t.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${f}`);let L=!1;const B=ve(s,!0);o!=="folded"&&e!==b.BLOCK_FOLDED&&(B.onOverflow=()=>{L=!0});const se=ke(`${y}${$}${m}`,f,De,B);if(!L)return`>${O}
${f}${se}`}return t=t.replace(/\n+/g,`$&${f}`),`|${O}
${f}${y}${t}${m}`}function on(n,e,t,s){const{type:i,value:r}=n,{actualString:o,implicitKey:l,indent:a,indentStep:f,inFlow:u}=e;if(l&&r.includes(`
`)||u&&/[[\]{},]/.test(r))return G(r,e);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(r))return l||u||!r.includes(`
`)?G(r,e):Oe(n,e,t,s);if(!l&&!u&&i!==b.PLAIN&&r.includes(`
`))return Oe(n,e,t,s);if(Ae(r)){if(a==="")return e.forceBlockIndent=!0,Oe(n,e,t,s);if(l&&a===f)return G(r,e)}const c=r.replace(/\n+/g,`$&
${a}`);if(o){const h=d=>{var g;return d.default&&d.tag!=="tag:yaml.org,2002:str"&&((g=d.test)==null?void 0:g.test(c))},{compat:m,tags:p}=e.doc.schema;if(p.some(h)||m!=null&&m.some(h))return G(r,e)}return l?c:ke(c,a,St,ve(e,!1))}function Ve(n,e,t,s){const{implicitKey:i,inFlow:r}=e,o=typeof n.value=="string"?n:Object.assign({},n,{value:String(n.value)});let{type:l}=n;l!==b.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(l=b.QUOTE_DOUBLE);const a=u=>{switch(u){case b.BLOCK_FOLDED:case b.BLOCK_LITERAL:return i||r?G(o.value,e):Oe(o,e,t,s);case b.QUOTE_DOUBLE:return oe(o.value,e);case b.QUOTE_SINGLE:return Je(o.value,e);case b.PLAIN:return on(o,e,t,s);default:return null}};let f=a(l);if(f===null){const{defaultKeyType:u,defaultStringType:c}=e.options,h=i&&u||c;if(f=a(h),f===null)throw new Error(`Unsupported default string type ${h}`)}return f}function Ot(n,e){const t=Object.assign({blockQuote:!0,commentString:sn,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},n.schema.toStringOptions,e);let s;switch(t.collectionStyle){case"block":s=!1;break;case"flow":s=!0;break;default:s=null}return{anchors:new Set,doc:n,flowCollectionPadding:t.flowCollectionPadding?" ":"",indent:"",indentStep:typeof t.indent=="number"?" ".repeat(t.indent):"  ",inFlow:s,options:t}}function ln(n,e){var i;if(e.tag){const r=n.filter(o=>o.tag===e.tag);if(r.length>0)return r.find(o=>o.format===e.format)??r[0]}let t,s;if(N(e)){s=e.value;let r=n.filter(o=>{var l;return(l=o.identify)==null?void 0:l.call(o,s)});if(r.length>1){const o=r.filter(l=>l.test);o.length>0&&(r=o)}t=r.find(o=>o.format===e.format)??r.find(o=>!o.format)}else s=e,t=n.find(r=>r.nodeClass&&s instanceof r.nodeClass);if(!t){const r=((i=s==null?void 0:s.constructor)==null?void 0:i.name)??(s===null?"null":typeof s);throw new Error(`Tag not resolved for ${r} value`)}return t}function an(n,e,{anchors:t,doc:s}){if(!s.directives)return"";const i=[],r=(N(n)||E(n))&&n.anchor;r&&ht(r)&&(t.add(r),i.push(`&${r}`));const o=n.tag??(e.default?null:e.tag);return o&&i.push(s.directives.tagString(o)),i.join(" ")}function Z(n,e,t,s){var a;if(k(n))return n.toString(e,t,s);if(Y(n)){if(e.doc.directives)return n.toString(e);if((a=e.resolvedAliases)!=null&&a.has(n))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(n):e.resolvedAliases=new Set([n]),n=n.resolve(e.doc)}let i;const r=_(n)?n:e.doc.createNode(n,{onTagObj:f=>i=f});i??(i=ln(e.doc.schema.tags,r));const o=an(r,i,e);o.length>0&&(e.indentAtStart=(e.indentAtStart??0)+o.length+1);const l=typeof i.stringify=="function"?i.stringify(r,e,t,s):N(r)?Ve(r,e,t,s):r.toString(e,t,s);return o?N(r)||l[0]==="{"||l[0]==="["?`${o} ${l}`:`${o}
${e.indent}${l}`:l}function fn({key:n,value:e},t,s,i){const{allNullValues:r,doc:o,indent:l,indentStep:a,options:{commentString:f,indentSeq:u,simpleKeys:c}}=t;let h=_(n)&&n.comment||null;if(c){if(h)throw new Error("With simple keys, key nodes cannot have comments");if(E(n)||!_(n)&&typeof n=="object"){const B="With simple keys, collection cannot be used as a key value";throw new Error(B)}}let m=!c&&(!n||h&&e==null&&!t.inFlow||E(n)||(N(n)?n.type===b.BLOCK_FOLDED||n.type===b.BLOCK_LITERAL:typeof n=="object"));t=Object.assign({},t,{allNullValues:!1,implicitKey:!m&&(c||!r),indent:l+a});let p=!1,d=!1,g=Z(n,t,()=>p=!0,()=>d=!0);if(!m&&!t.inFlow&&g.length>1024){if(c)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");m=!0}if(t.inFlow){if(r||e==null)return p&&s&&s(),g===""?"?":m?`? ${g}`:g}else if(r&&!c||e==null&&m)return g=`? ${g}`,h&&!p?g+=V(g,t.indent,f(h)):d&&i&&i(),g;p&&(h=null),m?(h&&(g+=V(g,t.indent,f(h))),g=`? ${g}
${l}:`):(g=`${g}:`,h&&(g+=V(g,t.indent,f(h))));let w,y,S;_(e)?(w=!!e.spaceBefore,y=e.commentBefore,S=e.comment):(w=!1,y=null,S=null,e&&typeof e=="object"&&(e=o.createNode(e))),t.implicitKey=!1,!m&&!h&&N(e)&&(t.indentAtStart=g.length+1),d=!1,!u&&a.length>=2&&!t.inFlow&&!m&&ce(e)&&!e.flow&&!e.tag&&!e.anchor&&(t.indent=t.indent.substring(2));let O=!1;const $=Z(e,t,()=>O=!0,()=>d=!0);let L=" ";if(h||w||y){if(L=w?`
`:"",y){const B=f(y);L+=`
${P(B,t.indent)}`}$===""&&!t.inFlow?L===`
`&&S&&(L=`

`):L+=`
${t.indent}`}else if(!m&&E(e)){const B=$[0],se=$.indexOf(`
`),tt=se!==-1,Ut=t.inFlow??e.flow??e.items.length===0;if(tt||!Ut){let nt=!1;if(tt&&(B==="&"||B==="!")){let R=$.indexOf(" ");B==="&"&&R!==-1&&R<se&&$[R+1]==="!"&&(R=$.indexOf(" ",R+1)),(R===-1||se<R)&&(nt=!0)}nt||(L=`
${t.indent}`)}}else($===""||$[0]===`
`)&&(L="");return g+=L+$,t.inFlow?O&&s&&s():S&&!O?g+=V(g,t.indent,f(S)):d&&i&&i(),g}function cn(n,e){(n==="debug"||n==="warn")&&console.warn(e)}const pe="<<",D={identify:n=>n===pe||typeof n=="symbol"&&n.description===pe,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new b(Symbol(pe)),{addToJSMap:Nt}),stringify:()=>pe},un=(n,e)=>(D.identify(e)||N(e)&&(!e.type||e.type===b.PLAIN)&&D.identify(e.value))&&(n==null?void 0:n.doc.schema.tags.some(t=>t.tag===D.tag&&t.default));function Nt(n,e,t){if(t=n&&Y(t)?t.resolve(n.doc):t,ce(t))for(const s of t.items)Be(n,e,s);else if(Array.isArray(t))for(const s of t)Be(n,e,s);else Be(n,e,t)}function Be(n,e,t){const s=n&&Y(t)?t.resolve(n.doc):t;if(!fe(s))throw new Error("Merge sources must be maps or map aliases");const i=s.toJSON(null,n,Map);for(const[r,o]of i)e instanceof Map?e.has(r)||e.set(r,o):e instanceof Set?e.add(r):Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(e,r,{value:o,writable:!0,enumerable:!0,configurable:!0});return e}function $t(n,e,{key:t,value:s}){if(_(t)&&t.addToJSMap)t.addToJSMap(n,e,s);else if(un(n,t))Nt(n,e,s);else{const i=T(t,"",n);if(e instanceof Map)e.set(i,T(s,i,n));else if(e instanceof Set)e.add(i);else{const r=dn(t,i,n),o=T(s,r,n);r in e?Object.defineProperty(e,r,{value:o,writable:!0,enumerable:!0,configurable:!0}):e[r]=o}}return e}function dn(n,e,t){if(e===null)return"";if(typeof e!="object")return String(e);if(_(n)&&(t!=null&&t.doc)){const s=Ot(t.doc,{});s.anchors=new Set;for(const r of t.anchors.keys())s.anchors.add(r.anchor);s.inFlow=!0,s.inStringifyKey=!0;const i=n.toString(s);if(!t.mapKeyWarned){let r=JSON.stringify(i);r.length>40&&(r=r.substring(0,36)+'..."'),cn(t.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${r}. Set mapAsMap: true to use object keys.`),t.mapKeyWarned=!0}return i}return JSON.stringify(e)}function qe(n,e,t){const s=le(n,void 0,t),i=le(e,void 0,t);return new j(s,i)}class j{constructor(e,t=null){Object.defineProperty(this,I,{value:dt}),this.key=e,this.value=t}clone(e){let{key:t,value:s}=this;return _(t)&&(t=t.clone(e)),_(s)&&(s=s.clone(e)),new j(t,s)}toJSON(e,t){const s=t!=null&&t.mapAsMap?new Map:{};return $t(t,s,this)}toString(e,t,s){return e!=null&&e.doc?fn(this,e,t,s):JSON.stringify(this)}}function Et(n,e,t){return(e.inFlow??n.flow?hn:gn)(n,e,t)}function gn({comment:n,items:e},t,{blockItemPrefix:s,flowChars:i,itemIndent:r,onChompKeep:o,onComment:l}){const{indent:a,options:{commentString:f}}=t,u=Object.assign({},t,{indent:r,type:null});let c=!1;const h=[];for(let p=0;p<e.length;++p){const d=e[p];let g=null;if(_(d))!c&&d.spaceBefore&&h.push(""),$e(t,h,d.commentBefore,c),d.comment&&(g=d.comment);else if(k(d)){const y=_(d.key)?d.key:null;y&&(!c&&y.spaceBefore&&h.push(""),$e(t,h,y.commentBefore,c))}c=!1;let w=Z(d,u,()=>g=null,()=>c=!0);g&&(w+=V(w,r,f(g))),c&&g&&(c=!1),h.push(s+w)}let m;if(h.length===0)m=i.start+i.end;else{m=h[0];for(let p=1;p<h.length;++p){const d=h[p];m+=d?`
${a}${d}`:`
`}}return n?(m+=`
`+P(f(n),a),l&&l()):c&&o&&o(),m}function hn({items:n},e,{flowChars:t,itemIndent:s}){const{indent:i,indentStep:r,flowCollectionPadding:o,options:{commentString:l}}=e;s+=r;const a=Object.assign({},e,{indent:s,inFlow:!0,type:null});let f=!1,u=0;const c=[];for(let p=0;p<n.length;++p){const d=n[p];let g=null;if(_(d))d.spaceBefore&&c.push(""),$e(e,c,d.commentBefore,!1),d.comment&&(g=d.comment);else if(k(d)){const y=_(d.key)?d.key:null;y&&(y.spaceBefore&&c.push(""),$e(e,c,y.commentBefore,!1),y.comment&&(f=!0));const S=_(d.value)?d.value:null;S?(S.comment&&(g=S.comment),S.commentBefore&&(f=!0)):d.value==null&&(y!=null&&y.comment)&&(g=y.comment)}g&&(f=!0);let w=Z(d,a,()=>g=null);p<n.length-1&&(w+=","),g&&(w+=V(w,s,l(g))),!f&&(c.length>u||w.includes(`
`))&&(f=!0),c.push(w),u=c.length}const{start:h,end:m}=t;if(c.length===0)return h+m;if(!f){const p=c.reduce((d,g)=>d+g.length+2,2);f=e.options.lineWidth>0&&p>e.options.lineWidth}if(f){let p=h;for(const d of c)p+=d?`
${r}${i}${d}`:`
`;return`${p}
${i}${m}`}else return`${h}${o}${c.join(" ")}${o}${m}`}function $e({indent:n,options:{commentString:e}},t,s,i){if(s&&i&&(s=s.replace(/^\n+/,"")),s){const r=P(e(s),n);t.push(r.trimStart())}}function q(n,e){const t=N(e)?e.value:e;for(const s of n)if(k(s)&&(s.key===e||s.key===t||N(s.key)&&s.key.value===t))return s}class J extends wt{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(U,e),this.items=[]}static from(e,t,s){const{keepUndefined:i,replacer:r}=s,o=new this(e),l=(a,f)=>{if(typeof r=="function")f=r.call(t,a,f);else if(Array.isArray(r)&&!r.includes(a))return;(f!==void 0||i)&&o.items.push(qe(a,f,s))};if(t instanceof Map)for(const[a,f]of t)l(a,f);else if(t&&typeof t=="object")for(const a of Object.keys(t))l(a,t[a]);return typeof e.sortMapEntries=="function"&&o.items.sort(e.sortMapEntries),o}add(e,t){var o;let s;k(e)?s=e:!e||typeof e!="object"||!("key"in e)?s=new j(e,e==null?void 0:e.value):s=new j(e.key,e.value);const i=q(this.items,s.key),r=(o=this.schema)==null?void 0:o.sortMapEntries;if(i){if(!t)throw new Error(`Key ${s.key} already set`);N(i.value)&&bt(s.value)?i.value.value=s.value:i.value=s.value}else if(r){const l=this.items.findIndex(a=>r(s,a)<0);l===-1?this.items.push(s):this.items.splice(l,0,s)}else this.items.push(s)}delete(e){const t=q(this.items,e);return t?this.items.splice(this.items.indexOf(t),1).length>0:!1}get(e,t){const s=q(this.items,e),i=s==null?void 0:s.value;return(!t&&N(i)?i.value:i)??void 0}has(e){return!!q(this.items,e)}set(e,t){this.add(new j(e,t),!0)}toJSON(e,t,s){const i=s?new s:t!=null&&t.mapAsMap?new Map:{};t!=null&&t.onCreate&&t.onCreate(i);for(const r of this.items)$t(t,i,r);return i}toString(e,t,s){if(!e)return JSON.stringify(this);for(const i of this.items)if(!k(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),Et(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:s,onComment:t})}}const te={collection:"map",default:!0,nodeClass:J,tag:"tag:yaml.org,2002:map",resolve(n,e){return fe(n)||e("Expected a mapping for this tag"),n},createNode:(n,e,t)=>J.from(n,e,t)};class Ee extends wt{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(x,e),this.items=[]}add(e){this.items.push(e)}delete(e){const t=ye(e);return typeof t!="number"?!1:this.items.splice(t,1).length>0}get(e,t){const s=ye(e);if(typeof s!="number")return;const i=this.items[s];return!t&&N(i)?i.value:i}has(e){const t=ye(e);return typeof t=="number"&&t<this.items.length}set(e,t){const s=ye(e);if(typeof s!="number")throw new Error(`Expected a valid index, not ${e}.`);const i=this.items[s];N(i)&&bt(t)?i.value=t:this.items[s]=t}toJSON(e,t){const s=[];t!=null&&t.onCreate&&t.onCreate(s);let i=0;for(const r of this.items)s.push(T(r,String(i++),t));return s}toString(e,t,s){return e?Et(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:s,onComment:t}):JSON.stringify(this)}static from(e,t,s){const{replacer:i}=s,r=new this(e);if(t&&Symbol.iterator in Object(t)){let o=0;for(let l of t){if(typeof i=="function"){const a=t instanceof Set?l:String(o++);l=i.call(t,a,l)}r.items.push(le(l,void 0,s))}}return r}}function ye(n){let e=N(n)?n.value:n;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}const ne={collection:"seq",default:!0,nodeClass:Ee,tag:"tag:yaml.org,2002:seq",resolve(n,e){return ce(n)||e("Expected a sequence for this tag"),n},createNode:(n,e,t)=>Ee.from(n,e,t)},Te={identify:n=>typeof n=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:n=>n,stringify(n,e,t,s){return e=Object.assign({actualString:!0},e),Ve(n,e,t,s)}},je={identify:n=>n==null,createNode:()=>new b(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new b(null),stringify:({source:n},e)=>typeof n=="string"&&je.test.test(n)?n:e.options.nullStr},Ye={identify:n=>typeof n=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:n=>new b(n[0]==="t"||n[0]==="T"),stringify({source:n,value:e},t){if(n&&Ye.test.test(n)){const s=n[0]==="t"||n[0]==="T";if(e===s)return n}return e?t.options.trueStr:t.options.falseStr}};function C({format:n,minFractionDigits:e,tag:t,value:s}){if(typeof s=="bigint")return String(s);const i=typeof s=="number"?s:Number(s);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let r=Object.is(s,-0)?"-0":JSON.stringify(s);if(!n&&e&&(!t||t==="tag:yaml.org,2002:float")&&/^\d/.test(r)){let o=r.indexOf(".");o<0&&(o=r.length,r+=".");let l=e-(r.length-o-1);for(;l-- >0;)r+="0"}return r}const _t={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:n=>n.slice(-3).toLowerCase()==="nan"?NaN:n[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:C},kt={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:n=>parseFloat(n),stringify(n){const e=Number(n.value);return isFinite(e)?e.toExponential():C(n)}},vt={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(n){const e=new b(parseFloat(n)),t=n.indexOf(".");return t!==-1&&n[n.length-1]==="0"&&(e.minFractionDigits=n.length-t-1),e},stringify:C},Ie=n=>typeof n=="bigint"||Number.isInteger(n),Qe=(n,e,t,{intAsBigInt:s})=>s?BigInt(n):parseInt(n.substring(e),t);function At(n,e,t){const{value:s}=n;return Ie(s)&&s>=0?t+s.toString(e):C(n)}const Tt={identify:n=>Ie(n)&&n>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(n,e,t)=>Qe(n,2,8,t),stringify:n=>At(n,8,"0o")},jt={identify:Ie,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(n,e,t)=>Qe(n,0,10,t),stringify:C},It={identify:n=>Ie(n)&&n>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(n,e,t)=>Qe(n,2,16,t),stringify:n=>At(n,16,"0x")},mn=[te,ne,Te,je,Ye,Tt,jt,It,_t,kt,vt];function rt(n){return typeof n=="bigint"||Number.isInteger(n)}const be=({value:n})=>JSON.stringify(n),pn=[{identify:n=>typeof n=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:n=>n,stringify:be},{identify:n=>n==null,createNode:()=>new b(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:be},{identify:n=>typeof n=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:n=>n==="true",stringify:be},{identify:rt,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(n,e,{intAsBigInt:t})=>t?BigInt(n):parseInt(n,10),stringify:({value:n})=>rt(n)?n.toString():JSON.stringify(n)},{identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:n=>parseFloat(n),stringify:be}],yn={default:!0,tag:"",test:/^/,resolve(n,e){return e(`Unresolved plain scalar ${JSON.stringify(n)}`),n}},bn=[te,ne].concat(pn,yn),We={identify:n=>n instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(n,e){if(typeof atob=="function"){const t=atob(n.replace(/[\n\r]/g,"")),s=new Uint8Array(t.length);for(let i=0;i<t.length;++i)s[i]=t.charCodeAt(i);return s}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),n},stringify({comment:n,type:e,value:t},s,i,r){if(!t)return"";const o=t;let l;if(typeof btoa=="function"){let a="";for(let f=0;f<o.length;++f)a+=String.fromCharCode(o[f]);l=btoa(a)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e??(e=b.BLOCK_LITERAL),e!==b.QUOTE_DOUBLE){const a=Math.max(s.options.lineWidth-s.indent.length,s.options.minContentWidth),f=Math.ceil(l.length/a),u=new Array(f);for(let c=0,h=0;c<f;++c,h+=a)u[c]=l.substr(h,a);l=u.join(e===b.BLOCK_LITERAL?`
`:" ")}return Ve({comment:n,type:e,value:l},s,i,r)}};function Lt(n,e){if(ce(n))for(let t=0;t<n.items.length;++t){let s=n.items[t];if(!k(s)){if(fe(s)){s.items.length>1&&e("Each pair must have its own sequence indicator");const i=s.items[0]||new j(new b(null));if(s.commentBefore&&(i.key.commentBefore=i.key.commentBefore?`${s.commentBefore}
${i.key.commentBefore}`:s.commentBefore),s.comment){const r=i.value??i.key;r.comment=r.comment?`${s.comment}
${r.comment}`:s.comment}s=i}n.items[t]=k(s)?s:new j(s)}}else e("Expected a sequence for this tag");return n}function Ct(n,e,t){const{replacer:s}=t,i=new Ee(n);i.tag="tag:yaml.org,2002:pairs";let r=0;if(e&&Symbol.iterator in Object(e))for(let o of e){typeof s=="function"&&(o=s.call(e,String(r++),o));let l,a;if(Array.isArray(o))if(o.length===2)l=o[0],a=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){const f=Object.keys(o);if(f.length===1)l=f[0],a=o[l];else throw new TypeError(`Expected tuple with one key, not ${f.length} keys`)}else l=o;i.items.push(qe(l,a,t))}return i}const ze={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:Lt,createNode:Ct};class H extends Ee{constructor(){super(),this.add=J.prototype.add.bind(this),this.delete=J.prototype.delete.bind(this),this.get=J.prototype.get.bind(this),this.has=J.prototype.has.bind(this),this.set=J.prototype.set.bind(this),this.tag=H.tag}toJSON(e,t){if(!t)return super.toJSON(e);const s=new Map;t!=null&&t.onCreate&&t.onCreate(s);for(const i of this.items){let r,o;if(k(i)?(r=T(i.key,"",t),o=T(i.value,r,t)):r=T(i,"",t),s.has(r))throw new Error("Ordered maps must not include duplicate keys");s.set(r,o)}return s}static from(e,t,s){const i=Ct(e,t,s),r=new this;return r.items=i.items,r}}H.tag="tag:yaml.org,2002:omap";const Ge={collection:"seq",identify:n=>n instanceof Map,nodeClass:H,default:!1,tag:"tag:yaml.org,2002:omap",resolve(n,e){const t=Lt(n,e),s=[];for(const{key:i}of t.items)N(i)&&(s.includes(i.value)?e(`Ordered maps must not include duplicate keys: ${i.value}`):s.push(i.value));return Object.assign(new H,t)},createNode:(n,e,t)=>H.from(n,e,t)};function Bt({value:n,source:e},t){return e&&(n?Mt:Ft).test.test(e)?e:n?t.options.trueStr:t.options.falseStr}const Mt={identify:n=>n===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new b(!0),stringify:Bt},Ft={identify:n=>n===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new b(!1),stringify:Bt},wn={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:n=>n.slice(-3).toLowerCase()==="nan"?NaN:n[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:C},Sn={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:n=>parseFloat(n.replace(/_/g,"")),stringify(n){const e=Number(n.value);return isFinite(e)?e.toExponential():C(n)}},On={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(n){const e=new b(parseFloat(n.replace(/_/g,""))),t=n.indexOf(".");if(t!==-1){const s=n.substring(t+1).replace(/_/g,"");s[s.length-1]==="0"&&(e.minFractionDigits=s.length)}return e},stringify:C},ue=n=>typeof n=="bigint"||Number.isInteger(n);function Le(n,e,t,{intAsBigInt:s}){const i=n[0];if((i==="-"||i==="+")&&(e+=1),n=n.substring(e).replace(/_/g,""),s){switch(t){case 2:n=`0b${n}`;break;case 8:n=`0o${n}`;break;case 16:n=`0x${n}`;break}const o=BigInt(n);return i==="-"?BigInt(-1)*o:o}const r=parseInt(n,t);return i==="-"?-1*r:r}function He(n,e,t){const{value:s}=n;if(ue(s)){const i=s.toString(e);return s<0?"-"+t+i.substr(1):t+i}return C(n)}const Nn={identify:ue,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(n,e,t)=>Le(n,2,2,t),stringify:n=>He(n,2,"0b")},$n={identify:ue,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(n,e,t)=>Le(n,1,8,t),stringify:n=>He(n,8,"0")},En={identify:ue,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(n,e,t)=>Le(n,0,10,t),stringify:C},_n={identify:ue,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(n,e,t)=>Le(n,2,16,t),stringify:n=>He(n,16,"0x")};class X extends J{constructor(e){super(e),this.tag=X.tag}add(e){let t;k(e)?t=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?t=new j(e.key,null):t=new j(e,null),q(this.items,t.key)||this.items.push(t)}get(e,t){const s=q(this.items,e);return!t&&k(s)?N(s.key)?s.key.value:s.key:s}set(e,t){if(typeof t!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof t}`);const s=q(this.items,e);s&&!t?this.items.splice(this.items.indexOf(s),1):!s&&t&&this.items.push(new j(e))}toJSON(e,t){return super.toJSON(e,t,Set)}toString(e,t,s){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),t,s);throw new Error("Set items must all have null values")}static from(e,t,s){const{replacer:i}=s,r=new this(e);if(t&&Symbol.iterator in Object(t))for(let o of t)typeof i=="function"&&(o=i.call(t,o,o)),r.items.push(qe(o,null,s));return r}}X.tag="tag:yaml.org,2002:set";const Xe={collection:"map",identify:n=>n instanceof Set,nodeClass:X,default:!1,tag:"tag:yaml.org,2002:set",createNode:(n,e,t)=>X.from(n,e,t),resolve(n,e){if(fe(n)){if(n.hasAllNullValues(!0))return Object.assign(new X,n);e("Set items must all have null values")}else e("Expected a mapping for this tag");return n}};function Ze(n,e){const t=n[0],s=t==="-"||t==="+"?n.substring(1):n,i=o=>e?BigInt(o):Number(o),r=s.replace(/_/g,"").split(":").reduce((o,l)=>o*i(60)+i(l),i(0));return t==="-"?i(-1)*r:r}function Pt(n){let{value:e}=n,t=o=>o;if(typeof e=="bigint")t=o=>BigInt(o);else if(isNaN(e)||!isFinite(e))return C(n);let s="";e<0&&(s="-",e*=t(-1));const i=t(60),r=[e%i];return e<60?r.unshift(0):(e=(e-r[0])/i,r.unshift(e%i),e>=60&&(e=(e-r[0])/i,r.unshift(e))),s+r.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const Dt={identify:n=>typeof n=="bigint"||Number.isInteger(n),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(n,e,{intAsBigInt:t})=>Ze(n,t),stringify:Pt},Jt={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:n=>Ze(n,!1),stringify:Pt},Ce={identify:n=>n instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(n){const e=n.match(Ce.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,t,s,i,r,o,l]=e.map(Number),a=e[7]?Number((e[7]+"00").substr(1,3)):0;let f=Date.UTC(t,s-1,i,r||0,o||0,l||0,a);const u=e[8];if(u&&u!=="Z"){let c=Ze(u,!1);Math.abs(c)<30&&(c*=60),f-=6e4*c}return new Date(f)},stringify:({value:n})=>(n==null?void 0:n.toISOString().replace(/(T00:00:00)?\.000Z$/,""))??""},ot=[te,ne,Te,je,Mt,Ft,Nn,$n,En,_n,wn,Sn,On,We,D,Ge,ze,Xe,Dt,Jt,Ce],lt=new Map([["core",mn],["failsafe",[te,ne,Te]],["json",bn],["yaml11",ot],["yaml-1.1",ot]]),at={binary:We,bool:Ye,float:vt,floatExp:kt,floatNaN:_t,floatTime:Jt,int:jt,intHex:It,intOct:Tt,intTime:Dt,map:te,merge:D,null:je,omap:Ge,pairs:ze,seq:ne,set:Xe,timestamp:Ce},kn={"tag:yaml.org,2002:binary":We,"tag:yaml.org,2002:merge":D,"tag:yaml.org,2002:omap":Ge,"tag:yaml.org,2002:pairs":ze,"tag:yaml.org,2002:set":Xe,"tag:yaml.org,2002:timestamp":Ce};function Me(n,e,t){const s=lt.get(e);if(s&&!n)return t&&!s.includes(D)?s.concat(D):s.slice();let i=s;if(!i)if(Array.isArray(n))i=[];else{const r=Array.from(lt.keys()).filter(o=>o!=="yaml11").map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${r} or define customTags array`)}if(Array.isArray(n))for(const r of n)i=i.concat(r);else typeof n=="function"&&(i=n(i.slice()));return t&&(i=i.concat(D)),i.reduce((r,o)=>{const l=typeof o=="string"?at[o]:o;if(!l){const a=JSON.stringify(o),f=Object.keys(at).map(u=>JSON.stringify(u)).join(", ");throw new Error(`Unknown custom tag ${a}; use one of ${f}`)}return r.includes(l)||r.push(l),r},[])}const vn=(n,e)=>n.key<e.key?-1:n.key>e.key?1:0;class xe{constructor({compat:e,customTags:t,merge:s,resolveKnownTags:i,schema:r,sortMapEntries:o,toStringDefaults:l}){this.compat=Array.isArray(e)?Me(e,"compat"):e?Me(null,e):null,this.name=typeof r=="string"&&r||"core",this.knownTags=i?kn:{},this.tags=Me(t,this.name,s),this.toStringOptions=l??null,Object.defineProperty(this,U,{value:te}),Object.defineProperty(this,_e,{value:Te}),Object.defineProperty(this,x,{value:ne}),this.sortMapEntries=typeof o=="function"?o:o===!0?vn:null}clone(){const e=Object.create(xe.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}function An(n,e){var a;const t=[];let s=e.directives===!0;if(e.directives!==!1&&n.directives){const f=n.directives.toString(n);f?(t.push(f),s=!0):n.directives.docStart&&(s=!0)}s&&t.push("---");const i=Ot(n,e),{commentString:r}=i.options;if(n.commentBefore){t.length!==1&&t.unshift("");const f=r(n.commentBefore);t.unshift(P(f,""))}let o=!1,l=null;if(n.contents){if(_(n.contents)){if(n.contents.spaceBefore&&s&&t.push(""),n.contents.commentBefore){const c=r(n.contents.commentBefore);t.push(P(c,""))}i.forceBlockIndent=!!n.comment,l=n.contents.comment}const f=l?void 0:()=>o=!0;let u=Z(n.contents,i,()=>l=null,f);l&&(u+=V(u,"",r(l))),(u[0]==="|"||u[0]===">")&&t[t.length-1]==="---"?t[t.length-1]=`--- ${u}`:t.push(u)}else t.push(Z(n.contents,i));if((a=n.directives)!=null&&a.docEnd)if(n.comment){const f=r(n.comment);f.includes(`
`)?(t.push("..."),t.push(P(f,""))):t.push(`... ${f}`)}else t.push("...");else{let f=n.comment;f&&o&&(f=f.replace(/^\n+/,"")),f&&((!o||l)&&t[t.length-1]!==""&&t.push(""),t.push(P(r(f),"")))}return t.join(`
`)+`
`}class et{constructor(e,t,s){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,I,{value:Pe});let i=null;typeof t=="function"||Array.isArray(t)?i=t:s===void 0&&t&&(s=t,t=void 0);const r=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},s);this.options=r;let{version:o}=r;s!=null&&s._directives?(this.directives=s._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new A({version:o}),this.setSchema(o,s),this.contents=e===void 0?null:this.createNode(e,i,s)}clone(){const e=Object.create(et.prototype,{[I]:{value:Pe}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=_(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){Q(this.contents)&&this.contents.add(e)}addIn(e,t){Q(this.contents)&&this.contents.addIn(e,t)}createAlias(e,t){if(!e.anchor){const s=mt(this);e.anchor=!t||s.has(t)?pt(t||"a",s):t}return new yt(e.anchor)}createNode(e,t,s){let i;if(typeof t=="function")e=t.call({"":e},"",e),i=t;else if(Array.isArray(t)){const g=y=>typeof y=="number"||y instanceof String||y instanceof Number,w=t.filter(g).map(String);w.length>0&&(t=t.concat(w)),i=t}else s===void 0&&t&&(s=t,t=void 0);const{aliasDuplicateObjects:r,anchorPrefix:o,flow:l,keepUndefined:a,onTagObj:f,tag:u}=s??{},{onAnchor:c,setAnchors:h,sourceObjects:m}=en(this,o||"a"),p={aliasDuplicateObjects:r??!0,keepUndefined:a??!1,onAnchor:c,onTagObj:f,replacer:i,schema:this.schema,sourceObjects:m},d=le(e,u,p);return l&&E(d)&&(d.flow=!0),h(),d}createPair(e,t,s={}){const i=this.createNode(e,null,s),r=this.createNode(t,null,s);return new j(i,r)}delete(e){return Q(this.contents)?this.contents.delete(e):!1}deleteIn(e){return ie(e)?this.contents==null?!1:(this.contents=null,!0):Q(this.contents)?this.contents.deleteIn(e):!1}get(e,t){return E(this.contents)?this.contents.get(e,t):void 0}getIn(e,t){return ie(e)?!t&&N(this.contents)?this.contents.value:this.contents:E(this.contents)?this.contents.getIn(e,t):void 0}has(e){return E(this.contents)?this.contents.has(e):!1}hasIn(e){return ie(e)?this.contents!==void 0:E(this.contents)?this.contents.hasIn(e):!1}set(e,t){this.contents==null?this.contents=Ne(this.schema,[e],t):Q(this.contents)&&this.contents.set(e,t)}setIn(e,t){ie(e)?this.contents=t:this.contents==null?this.contents=Ne(this.schema,Array.from(e),t):Q(this.contents)&&this.contents.setIn(e,t)}setSchema(e,t={}){typeof e=="number"&&(e=String(e));let s;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new A({version:"1.1"}),s={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new A({version:e}),s={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,s=null;break;default:{const i=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(t.schema instanceof Object)this.schema=t.schema;else if(s)this.schema=new xe(Object.assign(s,t));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:t,mapAsMap:s,maxAliasCount:i,onAnchor:r,reviver:o}={}){const l={anchors:new Map,doc:this,keep:!e,mapAsMap:s===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100},a=T(this.contents,t??"",l);if(typeof r=="function")for(const{count:f,res:u}of l.anchors.values())r(u,f);return typeof o=="function"?z(o,{"":a},"",a):a}toJSON(e,t){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:t})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const t=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${t}`)}return An(this,e)}}function Q(n){if(E(n))return!0;throw new Error("Expected a YAML collection as document contents")}new Set("0123456789ABCDEFabcdef");new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()");new Set(",[]{}");new Set(` ,[]{}
\r	`);function Tn(n,e,t){let s=null;if(Array.isArray(e)?s=e:t===void 0&&e&&(t=e),typeof t=="string"&&(t=t.length),typeof t=="number"){const i=Math.round(t);t=i<1?void 0:i>8?{indent:8}:{indent:i}}if(n===void 0){const{keepUndefined:i}=t??e??{};if(!i)return}return ae(n)&&!s?n.toString(t):new et(n,s,t).toString(t)}const Fe=n=>({save:s=>{localStorage.setItem(n,s)},load:()=>localStorage.getItem(n)}),jn={"log-level":"info",ipv6:!0,"mixed-port":7890,"allow-lan":!1,"bind-address":"*","external-controller":"0.0.0.0:7880","global-client-fingerprint":"chrome","tcp-concurrent":!0,"disable-keep-alive":!1,"keep-alive-interval":600,"keep-alive-idle":15},In={tun:{enable:!0,stack:"mixed","dns-hijack":["0.0.0.0:53"]}},Ln={dns:{enable:!0,listen:"0.0.0.0:53","prefer-h3":!0,"use-hosts":!0,"default-nameserver":["119.29.29.29","101.226.4.6","218.30.118.6","114.114.114.114"],nameserver:["https://doh.360.cn","https://doh.pub/dns-query","119.29.29.29","101.226.4.6","218.30.118.6","114.114.114.114"],"nameserver-policy":{"rule-set:ads":["rcode://success"],"rule-set:proxy_domain":["1.1.1.1","8.8.8.8","9.9.9.9","94.140.14.140"],"rule-set:ai_domain":["1.1.1.1","8.8.8.8"]},"enhanced-mode":"fake-ip","fake-ip-range":"198.18.0.1/16","fake-ip-filter-mode":"blacklist","fake-ip-filter":["*.lan","rule-set:cn_domain"]}},Cn={mode:"rule",rules:["RULE-SET,private_ip,DIRECT,no-resolve","RULE-SET,private_domain,DIRECT,no-resolve","RULE-SET,ads,断连,no-resolve","RULE-SET,dns_domain,中转","RULE-SET,ai_domain,中转","RULE-SET,proxy_domain,中转","RULE-SET,cn_domain,直连","RULE-SET,cn_ip,直连","MATCH,其他"],"rule-providers":{private_ip:{type:"http",behavior:"ipcidr",format:"mrs",path:"./ruleset/private_ip.mrs",url:"https://aubyn-github-io.pages.dev/ruleset/private_ip.mrs",interval:259200},private_domain:{type:"http",behavior:"domain",format:"mrs",path:"./ruleset/private_domain.mrs",url:"https://aubyn-github-io.pages.dev/ruleset/private_domain.mrs",interval:259200},cn_domain:{type:"http",behavior:"domain",format:"mrs",path:"./ruleset/cn_domain.mrs",url:"https://aubyn-github-io.pages.dev/ruleset/cn_domain.mrs",interval:259200},cn_ip:{type:"http",behavior:"ipcidr",format:"mrs",path:"./ruleset/cn_ip.mrs",url:"https://aubyn-github-io.pages.dev/ruleset/cn_ip.mrs",interval:259200},proxy_domain:{type:"http",behavior:"domain",format:"mrs",path:"./ruleset/proxy_domain.mrs",url:"https://aubyn-github-io.pages.dev/ruleset/proxy_domain.mrs",interval:259200},ai_domain:{type:"http",behavior:"domain",format:"mrs",path:"./ruleset/ai_domain.mrs",url:"https://aubyn-github-io.pages.dev/ruleset/ai_domain.mrs",interval:259200},dns_domain:{type:"http",behavior:"domain",format:"yaml",path:"./ruleset/dns_domain.yaml",url:"https://aubyn-github-io.pages.dev/ruleset/dns_domain.yaml",interval:259200},ads:{type:"http",behavior:"domain",format:"mrs",path:"./ruleset/ads.mrs",url:"https://aubyn-github-io.pages.dev/ruleset/ads.mrs",interval:259200}}},Bn={UrlTest:{type:"url-test",url:"http://connectivitycheck.gstatic.com/generate_204",interval:300,tolerance:20},Fallback:{type:"fallback",url:"http://connectivitycheck.gstatic.com/generate_204",interval:300},Select:{type:"select"},"proxy-groups":[{name:"断连",type:"select",proxies:["REJECT"]},{name:"直连",type:"select",proxies:["DIRECT"]},{name:"中转",type:"select",proxies:["中转故障选择","中转自动选择","香港故障选择","台湾故障选择","日本故障选择","美国故障选择"]},{name:"其他",type:"select",proxies:["中转","直连"]},{name:"中转自动选择",type:"url-test",url:"http://connectivitycheck.gstatic.com/generate_204",interval:300,tolerance:20,use:["订阅"],filter:"美国|新加坡|日本"},{name:"中转故障选择",type:"fallback",url:"http://connectivitycheck.gstatic.com/generate_204",interval:300,use:["订阅"],filter:"美国|新加坡|日本"},{name:"香港故障选择",type:"fallback",url:"http://connectivitycheck.gstatic.com/generate_204",interval:300,use:["订阅"],filter:"香港"},{name:"台湾故障选择",type:"fallback",url:"http://connectivitycheck.gstatic.com/generate_204",interval:300,use:["订阅"],filter:"台湾"},{name:"日本故障选择",type:"fallback",url:"http://connectivitycheck.gstatic.com/generate_204",interval:300,use:["订阅"],filter:"日本"},{name:"美国故障选择",type:"fallback",url:"http://connectivitycheck.gstatic.com/generate_204",interval:300,use:["订阅"],filter:"美国"}]},Mn=(n,e)=>(n="订阅",{...jn,...In,...Ln,...Cn,"proxy-providers":{[n]:{url:e,type:"http",interval:86400,proxy:"DIRECT"}},...Bn}),Fn={log:{disabled:!1,level:"warn",timestamp:!0},experimental:{cache_file:{enabled:!0,store_rdrc:!0}},inbounds:[{tag:"mixed-in",type:"mixed",listen:"127.0.0.1",listen_port:7890,tls:{enabled:!1},set_system_proxy:!1},{tag:"tun-in",type:"tun",interface_name:"SingBoxTUN",address:["172.19.0.1/30","fdfe:dcba:9876::1/126"],auto_route:!0,strict_route:!0,mtu:9e3,stack:"mixed"}],outbounds:[{tag:"国内",type:"selector",outbounds:["direct","国外"]},{tag:"国外",type:"selector",outbounds:[]},{tag:"自动选择",type:"urltest",url:"http://www.msftconnecttest.com/connecttest.txt",outbounds:[]},{tag:"direct",type:"direct"}],route:{auto_detect_interface:!0,default_domain_resolver:"dnsproxy",final:"国外",rules:[{action:"sniff",timeout:"100ms"},{action:"hijack-dns",protocol:"dns"},{outbound:"国内",ip_is_private:!0},{outbound:"国外",type:"logical",mode:"or",rules:[{domain_suffix:["gstatic.com"]}]},{outbound:"国内",rule_set:["geolite2_country_cn"]}],rule_set:[{tag:"geolite2_country_cn",type:"remote",format:"binary",url:"https://aubyn-github-io.pages.dev/ruleset/geolite2_country_cn.srs",download_detour:"国外",update_interval:"3d"}]},dns:{independent_cache:!0,rules:[{server:"fakeip",query_type:["A","AAAA"]}],servers:[{tag:"local",type:"local"},{tag:"dnsproxy",type:"udp",server:"94.140.14.140",domain_resolver:"dnspod"},{tag:"dnspod",type:"udp",server:"119.29.29.29"},{tag:"fakeip",type:"fakeip",inet4_range:"198.18.0.0/15",inet6_range:"fc00::/18"}]}},Pn=n=>{const e=JSON.parse(JSON.stringify(Fn)),t=/(台湾|日本|美国)/,s=n.outbounds.filter(o=>t.test(o.tag)).slice(1);e.outbounds.push(...s);const i=e.outbounds.find(o=>o.tag==="自动选择");i.outbounds=s.map(o=>o.tag);const r=e.outbounds.find(o=>o.tag==="国外");return r.outbounds=["自动选择",...s.map(o=>o.tag)],e},Dn=()=>{const n=de("订阅"),e=de(""),t=de(""),s=de(""),i=Fe("last_provider_name_config"),r=Fe("last_provider_url_config"),o=Fe("last_source_config");return Rt([n,e,t],()=>{i.save(n.value),r.save(e.value),o.save(t.value)}),Kt(()=>{n.value=i.load()??"",e.value=r.load()??"",t.value=o.load()??""}),{providerName:n,providerURL:e,source:t,target:s,onConvertMihomo:()=>{s.value=Tn(Mn(n.value.trim()||"订阅",e.value.trim()),null,2)},onConvertSingBox:()=>{s.value=JSON.stringify(Pn(JSON.parse(t.value)),null,4)},onFormat:()=>{s.value=JSON.stringify(JSON.parse(t.value),null,4)}}},Jn={class:"mt-4 space-x-4"},Un=ft({__name:"Subscription",setup(n){const e={section:"space-y-4",textarea:"block w-full p-4 border border-solid border-[--vp-c-divider] rounded resize-none",button:"border border-solid border-[--vp-c-divider] rounded bg-[--vp-button-alt-bg] text-sm text-[--vp-button-alt-text]"},{providerName:t,providerURL:s,source:i,target:r,onConvertMihomo:o,onConvertSingBox:l,onFormat:a}=Dn();return(f,u)=>(ut(),ct(Vt,null,[u[10]||(u[10]=qt("",1)),v("section",{class:F([e.section])},[u[7]||(u[7]=v("h3",null,"订阅链接",-1)),ge(v("input",{class:F([e.textarea]),"onUpdate:modelValue":u[0]||(u[0]=c=>me(t)?t.value=c:null),placeholder:"订阅名称，默认 airport"},null,2),[[he,M(t)]]),ge(v("input",{class:F([e.textarea]),"onUpdate:modelValue":u[1]||(u[1]=c=>me(s)?s.value=c:null),placeholder:"订阅链接"},null,2),[[he,M(s)]])],2),v("section",{class:F([e.section])},[u[8]||(u[8]=v("h3",null,"源配置",-1)),ge(v("textarea",{class:F([e.textarea]),"onUpdate:modelValue":u[2]||(u[2]=c=>me(i)?i.value=c:null),rows:8},null,2),[[he,M(i)]])],2),v("section",{class:F([e.section])},[u[9]||(u[9]=v("h3",null,"目标配置",-1)),ge(v("textarea",{class:F([e.textarea]),"onUpdate:modelValue":u[3]||(u[3]=c=>me(r)?r.value=c:null),rows:8},null,2),[[he,M(r)]])],2),v("section",Jn,[v("button",{class:F(["mt-4 p-2 hover:opacity-80",e.button]),onClick:u[4]||(u[4]=(...c)=>M(o)&&M(o)(...c))}," 生成 mihomo 配置 ",2),v("button",{class:F(["mt-4 p-2 hover:opacity-80",e.button]),onClick:u[5]||(u[5]=(...c)=>M(l)&&M(l)(...c))}," 生成 sing-box 配置 ",2),v("button",{class:F(["mt-4 p-2 hover:opacity-80",e.button]),onClick:u[6]||(u[6]=(...c)=>M(a)&&M(a)(...c))}," 格式化 JSON ",2)])],64))}}),Vn=JSON.parse('{"title":"订阅","description":"","frontmatter":{},"headers":[],"relativePath":"tool/subscription.md","filePath":"tool/subscription.md"}'),Rn={name:"tool/subscription.md"},qn=ft({...Rn,setup(n){return(e,t)=>{const s=Yt("ClientOnly");return ut(),ct("div",null,[t[0]||(t[0]=v("h1",{id:"订阅",tabindex:"-1"},[Qt("订阅 "),v("a",{class:"header-anchor",href:"#订阅","aria-label":'Permalink to "订阅"'},"​")],-1)),st(s,null,{default:Wt(()=>[st(Un,{style:{"margin-top":"48px"}})]),_:1})])}}});export{Vn as __pageData,qn as default};
